<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Calculadora</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </head>
  <body>
    <div class="container mt-5">
      <h1 class="text-center">Calculadora</h1>
      <div class="d-flex justify-content-center align-items-center flex-column">
        <input
          id="valor"
          type="number"
          placeholder="Introduce valor"
          class="form-control mb-3"
        />
        <div class="btn-group mb-3">
          <button id="suma" class="btn btn-outline-primary">
            <i class="bi bi-plus"></i>
          </button>
          <button id="resta" class="btn btn-outline-primary">
            <i class="bi bi-dash"></i>
          </button>
          <button id="multiplicacion" class="btn btn-outline-primary">
            <i class="bi bi-x"></i>
          </button>
          <button id="igual" class="btn btn-outline-success">=</button>
        </div>
        <div
          id="resultado"
          class="alert alert-info"
          style="display: none"
        ></div>
      </div>
      <div id="ListaCarrito">
        <ul id="listaCarrito"></ul>
        <!-- Para mostrar las operaciones en el carrito -->
      </div>
    </div>

    <script>
      $(document).ready(function () {
        var valor1 = null;
        var operacion = null;
        var resultado = null;
        var carrito = [];

        $(".btn-group button").on("click", function () {
          if (this.id !== "igual") {
            if (resultado !== null) {
              valor1 = resultado;
            } else {
              valor1 = parseFloat($("#valor").val());
            }
            operacion = this.id;
            $("#valor").val("");
          } else {
            var valor2 = parseFloat($("#valor").val());

            // Realizar operación
            if (operacion === "suma") {
              resultado = valor1 + valor2;
            } else if (operacion === "resta") {
              resultado = valor1 - valor2;
            } else if (operacion === "multiplicacion") {
              resultado = valor1 * valor2;
            }

            $("#valor").val(resultado);

            var NombreOperacion = `La operación ${valor1} ${operacion} ${valor2} = ${resultado}`;
            carrito.push({ Operacion: NombreOperacion });

            var listaCarrito = $("#listaCarrito");
            listaCarrito.empty(); // Limpiar lista
            carrito.forEach(function (ValoresArray) {
              listaCarrito.append("<li>" + ValoresArray.Operacion + "</li>");
            });

            $("#resultado")
              .text(`El resultado de la operación es: ${resultado}`)
              .show();
          }
        });
      });
    </script>
  </body>
</html>
